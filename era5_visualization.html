<!DOCTYPE html>
    <html>
    <head>
      <title>ERA5 Data Visualization</title>
      <style>
        /* CSS styling */
        .slider-container {
          width: 600px;
          margin: 20px auto;
        }
        img {
          display: block;
          margin: 0 auto;
          max-width: 600px;
        }
      </style>
    </head>
    <body>
      <h1>ERA5 Data Visualization</h1>
      
      <div class="slider-container">
        <p>Select Timestamp:</p>
        <input type="range" id="timestamp-slider" min="0" max="4" step="1" value="0">
      </div>
      
      <div class="slider-container">
        <p>Select Level:</p>
        <input type="range" id="level-slider" min="0" max="22" step="1" value="0">
      </div>
      
      <img id="plot-image" src="">
    
      <script>
        // JavaScript code
        const timestampSlider = document.getElementById('timestamp-slider');
        const levelSlider = document.getElementById('level-slider');
        const plotImage = document.getElementById('plot-image');
    
        // Define the timestamps and levels
        let timestamps = ['20230508_00', '20230508_06', '20230508_12', '20230508_18', '20230509_00'];
        let levels = ['200', '225', '250', '300', '350', '400', '450', '500', '550', '600', '650', '700', '750', '775', '800', '825', '850', '875', '900', '925', '950', '975', '1000'];
        
        let timestampIndex = parseInt(timestampSlider.value);
        let levelIndex = parseInt(levelSlider.value);

        // Update the displayed plot when the slider values change
        timestampSlider.addEventListener('input', function() {
          timestampIndex = parseInt(timestampSlider.value);
          const imagePath = generateImagePath(timestamps[timestampIndex], levels[levelIndex]);
          plotImage.src = imagePath;
        });
        
        levelSlider.addEventListener('input', function() {
          const levelIndex = parseInt(levelSlider.value);
	      const imagePath = generateImagePath(timestamps[timestampIndex], levels[levelIndex]);
          plotImage.src = imagePath;
        });
        
        // Set the initial plot image
        const initialImagePath = generateImagePath(timestamps[0], levels[0]);
        plotImage.src = initialImagePath;
        
        function generateImagePath(timestamp, level) {
            const filepath = '../era5horiz_plots/' + timestamp + '/' + timestamp + '_' + level + '_era5_horiz.png';
            return filepath;
        }
        </script>
    </body>
    </html>